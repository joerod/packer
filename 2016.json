{
  "builders": [
      {
          "type": "hyperv-iso",
          "output_directory": "./output-{{ user `os_name` }}-base-hyperv/",
          "vm_name": "{{ user `os_name` }}-base",
          "iso_url": "{{ user `iso_url` }}",
          "iso_checksum": "{{ user `iso_checksum` }}",
          "iso_checksum_type": "sha256",
          "communicator": "winrm",
          "winrm_username":  "{{ user `winrm_username` }}",
          "winrm_password":  "{{ user `winrm_password` }}",
          "switch_name": "packer-hyperv-iso",
          "shutdown_command": "shutdown /s /t 10 /f /d p:4:1 /c \"Packer Shutdown\"",
          "shutdown_timeout": "1h",
          "floppy_files": [
            "answer_files/2016/Autounattend.xml",
            "winrm.ps1"
          ],
          "iso_target_path": "C:\\Users\\joero\\Desktop\\packer\\iso\\",
          "cpu": 1,
          "disk_size": 81920,
          "ram_size": 4096,
          "generation": "{{ user `hyperv_gen` }}",
          "boot_wait": "{{ user `boot_wait` }}s",
          "boot_command": [
              "a<wait>a<wait>a"
          ]
      }
  ],
  "provisioners": [
    {
        "type": "powershell",
        "script": "rdpenable.ps1"
    },
    {
        "type": "powershell",
        "inline": "Write-Host 'I like turtles'"
    }
],
  "variables": {
      "os_name": "2016",
      "iso_checksum": "1CE702A578A3CB1AC3D14873980838590F06D5B7101C5DAACCBAC9D73F1FB50F",
      "iso_url": "C:\\Users\\joero\\Desktop\\packer\\iso\\Windows_Server_2016_Datacenter_EVAL_en-us_14393_refresh.ISO",
      "hyperv_gen": "1",
      "boot_wait": "2m",
      "winrm_username": "joerod",
      "winrm_password": "Ftbl4245!!!"
  }
}